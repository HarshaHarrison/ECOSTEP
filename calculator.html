<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>EcoSteps Carbon Footprint Calculator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f8;
      margin: 0;
      padding: 0;
    }
    /* Navbar Styles */
    .navbar {
      background-color: #2e7d32;
      overflow: hidden;
      display: flex;
      justify-content: center;
    }
    .navbar a {
      color: white;
      text-align: center;
      padding: 14px 20px;
      text-decoration: none;
      display: block;
    }
    .navbar a:hover {
      background-color: #575757;
    }

    /* Container Styles */
    .container {
      background: white;
      padding: 20px;
      border-radius: 12px;
      max-width: 500px;
      margin: 20px auto;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    button {
      margin-top: 15px;
      padding: 10px;
      width: 100%;
      background: #28a745;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    button:hover {
      background: #218838;
    }
    .toggle {
      background: #007bff;
      margin-top: 10px;
    }
    .toggle:hover {
      background: #0056b3;
    }
    .result, .tip {
      margin-top: 15px;
      padding: 10px;
      border-radius: 6px;
    }
    .result {
      background: #e9ecef;
    }
    .tip {
      background: #fff3cd;
      border: 1px solid #ffeeba;
    }
  </style>
</head>
<body>

  <!-- Navigation Bar -->
  <div class="navbar">
    <a href="index.html">üè† Home</a>
    <a href="calculator.html">üßÆ Calculator</a>
    <a href="suggestions.html">üí° Tips</a>
    <a href="tracker.html">üìà Tracker</a>
    <a href="facts.html">üìä Quiz</a>
    <a href="sentiment.html">üß† Sentiment</a>
  </div>

  <div class="container">
    <h2>üå± EcoSteps Carbon Footprint Calculator</h2>

    <label>Monthly Energy Usage (kWh)</label>
    <input type="number" id="energy" placeholder="e.g. 350">

    <label>Vehicle Travel Distance (km/month)</label>
    <input type="number" id="distance" placeholder="e.g. 200">

    <label>Vehicle Type</label>
    <select id="vehicleType">
      <option value="car">Car (Petrol/Diesel)</option>
      <option value="bike">Bike</option>
      <option value="bus">Bus</option>
      <option value="ev">Electric Vehicle</option>
    </select>

    <label>Number of Flights (per month)</label>
    <input type="number" id="flights" placeholder="e.g. 1">

    <label>Diet Preference</label>
    <select id="diet">
      <option value="meat">Meat-heavy</option>
      <option value="mixed">Mixed</option>
      <option value="vegetarian">Vegetarian</option>
      <option value="vegan">Vegan</option>
    </select>

    <button onclick="calculateFootprint()">Calculate</button>
    <button class="toggle" onclick="togglePeriod()">Switch to Yearly</button>

    <div class="result" id="result"></div>
    <div class="tip" id="tip"></div>
  </div>

  <script>
    let isYearly = false;

    function togglePeriod() {
      isYearly = !isYearly;
      document.querySelector('.toggle').innerText = isYearly ? "Switch to Monthly" : "Switch to Yearly";
      calculateFootprint();
    }

    function calculateFootprint() {
      let energy = parseFloat(document.getElementById('energy').value) || 0;
      let distance = parseFloat(document.getElementById('distance').value) || 0;
      let vehicleType = document.getElementById('vehicleType').value;
      let flights = parseFloat(document.getElementById('flights').value) || 0;
      let diet = document.getElementById('diet').value;

      if (isYearly) {
        energy *= 12;
        distance *= 12;
        flights *= 12;
      }

      const energyFactor = 0.0007; 
      const vehicleFactors = { car: 0.0002, bike: 0.0001, bus: 0.00005, ev: 0.00005 };
      const flightFactor = 0.09;
      const dietFactors = { meat: 0.25, mixed: 0.18, vegetarian: 0.12, vegan: 0.08 };

      let energyEmission = energy * energyFactor;
      let vehicleEmission = distance * (vehicleFactors[vehicleType] || 0);
      let flightEmission = flights * flightFactor;
      let dietEmission = dietFactors[diet] || 0;

      let totalEmission = energyEmission + vehicleEmission + flightEmission + dietEmission;

      document.getElementById('result').innerHTML = `Your ${isYearly ? "Yearly" : "Monthly"} Carbon Footprint: <b>${totalEmission.toFixed(2)}</b> tons CO‚ÇÇ`;

      const tips = {
        energy: [
          "Switch to LED bulbs to reduce electricity usage.",
          "Unplug chargers when not in use to save energy.",
          "Install solar panels to cut down grid dependency."
        ],
        vehicle: {
          car: [
            "Use public transport twice a week to reduce CO‚ÇÇ by 10%.",
            "Carpool with friends to lower fuel usage.",
            "Maintain tire pressure for better mileage."
          ],
          bike: [
            "Switch short trips to walking or cycling.",
            "Ensure regular bike servicing to improve fuel efficiency."
          ],
          bus: [
            "Use buses instead of private transport whenever possible.",
            "Encourage friends to use public transport with you."
          ],
          ev: [
            "Charge your EV during off-peak hours for cleaner energy.",
            "Use renewable energy sources for EV charging."
          ]
        },
        flights: [
          "Take fewer flights and opt for trains when possible.",
          "Combine trips to reduce the number of flights."
        ],
        diet: [
          "Reduce meat consumption to lower CO‚ÇÇ emissions.",
          "Incorporate more plant-based meals into your diet."
        ]
      };

      let contributions = {
        energy: energyEmission,
        vehicle: vehicleEmission,
        flights: flightEmission,
        diet: dietEmission
      };

      let highest = Object.keys(contributions).reduce((a, b) => contributions[a] > contributions[b] ? a : b);

      let selectedTip = "";
      if (highest === "vehicle") {
        let vehicleTips = tips.vehicle[vehicleType];
        selectedTip = vehicleTips[Math.floor(Math.random() * vehicleTips.length)];
      } else {
        let categoryTips = tips[highest];
        selectedTip = categoryTips[Math.floor(Math.random() * categoryTips.length)];
      }

      document.getElementById('tip').innerHTML = `üí° Tip: ${selectedTip}`;
    }
  </script>
</body>
</html>

